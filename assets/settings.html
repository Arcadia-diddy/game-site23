<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Settings – Unblocked Hub</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="assets/logo.png" id="favicon">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@600;800&display=swap');
    :root{--bg:#0d0d0d;--card:#1a1a1a;--text:#eee;--glow:#00ff88;--accent:#00bfff}
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:'Inter',sans-serif;background:var(--bg);color:var(--text);padding:2rem;line-height:1.7;transition:all .3s}
    h1{font-size:2.5rem;text-align:center;margin:1rem 0;background:linear-gradient(90deg,var(--glow),var(--accent));background-clip:text;-webkit-background-clip:text;color:transparent}
    nav a{font-size:1.3rem;margin:0 .5rem;color:#aaa;text-decoration:none}
    nav a:hover{color:var(--glow)}
    .box{background:var(--card);padding:2rem;border-radius:12px;margin:2rem auto;max-width:700px}
    .field{margin:1.5rem 0}
    label{display:block;font-weight:600;margin-bottom:.5rem;color:var(--glow)}
    input[type="text"], input[type="file"]{
      width:100%;padding:.8rem;border-radius:8px;border:1px solid #444;background:#222;color:#fff;font-size:1rem
    }
    .theme-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:1rem;margin-top:1rem}
    .theme-btn{background:var(--card);padding:.8rem;border-radius:10px;text-align:center;cursor:pointer;transition:.3s;border:2px solid transparent;font-size:0.9rem}
    .theme-btn.active{border-color:var(--glow);box-shadow:0 0 15px rgba(0,255,136,.5)}
    .theme-btn div{height:50px;border-radius:6px;margin-bottom:.4rem;background:var(--preview-bg)}
    .btn-save{display:block;width:100%;background:var(--glow);color:#000;padding:1rem;font-weight:800;border-radius:12px;margin-top:2rem;text-align:center;cursor:pointer}
    .footer{text-align:center;margin-top:3rem;font-size:0.8rem;color:#666}
  </style>
</head>
<body>
  <nav style="text-align:center">
    <a href="index.html">Home</a>
    <a href="games.html">Games</a>
    <a href="apps.html">Apps</a>
    <a href="info.html">Info</a>
    <a href="settings.html">Settings</a>
  </nav>

  <h1>Settings</h1>
  <div class="box">

    <div class="field">
      <label>Site Name</label>
      <input type="text" id="siteName" placeholder="milesshawt epic site">
    </div>

    <div class="field">
      <label>Change Favicon (PNG/ICO)</label>
      <input type="file" id="faviconInput" accept=".png,.ico">
      <small>Recommended: 64x64 PNG</small>
    </div>

    <div class="field">
      <label>Choose Theme</label>
      <div class="theme-grid" id="themeGrid">
        <!-- Themes injected by JS -->
      </div>
    </div>

    <div class="btn-save" onclick="saveSettings()">Save Settings</div>
  </div>

  <div class="footer">Changes apply instantly • No data sent</div>

  <script>
    const themes = {
      dark:     { name: "Dark",       bg: "#0d0d0d", card: "#1a1a1a", text: "#eee", glow: "#00ff88", accent: "#00bfff" },
      fulldark: { name: "Full Dark",  bg: "#000000", card: "#111111", text: "#ffffff", glow: "#00ff88", accent: "#00bfff" },
      light:    { name: "Light",      bg: "#f5f5f5", card: "#ffffff", text: "#111", glow: "#00c853", accent: "#2962ff" },
      sakura:   { name: "Sakura",     bg: "#e8b8d0", card: "#d89cc1", text: "#a83b6e", glow: "#ff8ac1", accent: "#ff5aa5" },
      ocean:    { name: "Ocean",      bg: "#0a1a2f", card: "#0f2b4a", text: "#a0e7ff", glow: "#00d4ff", accent: "#0099cc" },
      sunset:   { name: "Sunset",     bg: "#ff6b35", card: "#ff8c42", text: "#fff", glow: "#ff4757", accent: "#ffa502" },
      forest:   { name: "Forest",     bg: "#1a2e19", card: "#2d4a2b", text: "#b2f2bb", glow: "#51cf66", accent: "#37b24d" },
      neon:     { name: "Neon",       bg: "#1a0033", card: "#2a004d", text: "#e0b3ff", glow: "#ff00ff", accent: "#9d00ff" },
      retro:    { name: "Retro CRT",  bg: "#0a0a0a", card: "#1a1a1a", text: "#0f0", glow: "#0f0", accent: "#ff0" }
    };

    const grid = document.getElementById('themeGrid');
    Object.keys(themes).forEach(key => {
      const t = themes[key];
      const btn = document.createElement('div');
      btn.className = 'theme-btn';
      btn.dataset.theme = key;
      btn.innerHTML = `
        <div style="background:linear-gradient(135deg,${t.bg},${t.card});"></div>
        <div>${t.name}</div>
      `;
      btn.onclick = () => {
        document.querySelectorAll('.theme-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        applyTheme(key);
      };
      grid.appendChild(btn);
    });

    function applyTheme(key) {
      const t = themes[key];
      document.documentElement.style.setProperty('--bg', t.bg);
      document.documentElement.style.setProperty('--card', t.card);
      document.documentElement.style.setProperty('--text', t.text);
      document.documentElement.style.setProperty('--glow', t.glow);
      document.documentElement.style.setProperty('--accent', t.accent);
      document.body.style.background = t.bg;
    }

    const saved = JSON.parse(localStorage.getItem('unblockedHubSettings') || '{}');
    if (saved.name) document.getElementById('siteName').value = saved.name;
    if (saved.favicon) document.getElementById('favicon').href = saved.favicon;
    if (saved.theme && themes[saved.theme]) {
      document.querySelector(`[data-theme="${saved.theme}"]`).classList.add('active');
      applyTheme(saved.theme);
    } else {
      document.querySelector('[data-theme="dark"]').classList.add('active');
    }

    document.getElementById('faviconInput').addEventListener('change', e => {
      const file = e.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = ev => document.getElementById('favicon').href = ev.target.result;
        reader.readAsDataURL(file);
      }
    });

    function saveSettings() {
      const name = document.getElementById('siteName').value.trim() || 'mileshawt epic site';
      const favicon = document.getElementById('favicon').href;
      const theme = document.querySelector('.theme-btn.active').dataset.theme;

      localStorage.setItem('unblockedHubSettings', JSON.stringify({ name, favicon, theme }));
      document.title = name;
      alert('Settings saved! Refresh other tabs to sync.');
    }

    window.applySavedSettings = function() {
      const s = JSON.parse(localStorage.getItem('unblockedHubSettings') || '{}');
      if (s.name) document.title = saved.name;
      if (s.favicon) document.querySelector('link[rel="icon"]').href = s.favicon;
      if (s.theme && themes[s.theme]) {
        const t = themes[s.theme];
        Object.keys(t).forEach(k => document.documentElement.style.setProperty('--'+k, t[k]));
        document.body.style.background = t.bg;
      }
    };
    window.applySavedSettings();
  </script>
</body>
</html>